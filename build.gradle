plugins {
    id 'groovy'
    id 'com.gradle.plugin-publish' version '0.9.7'
    id 'maven-publish'
}

repositories {
    jcenter()
    mavenCentral()
}

dependencies {
    compile gradleApi()
    compile localGroovy()
    compile 'commons-io:commons-io:2.4'
    compile 'com.android.tools.build:gradle:1.5.0'
}

apply plugin: 'groovy'

version = rootProject.file('src/main/resources/version.txt').text.trim()
group = 'io.waldo.tools'

// This is in order to publish the plugin locally with all the dependencies
publishing {
    publications {
        mavenJava(MavenPublication) {
            groupId = 'io.waldo.tools'
            from components.java
        }
    }
}

pluginBundle {
    website = 'https://www.waldo.io/'
    vcsUrl = 'https://github.com/waldoapp/gradle-plugin'

    plugins {
        toolsPlugin {
            id = group
            displayName = 'Gradle Tasks for Waldo'
            description = 'The Waldo tools plugin allows to easily integrate with Waldo service during your Android build process'
            tags = ['android','testing','waldo']
        }
    }
}
